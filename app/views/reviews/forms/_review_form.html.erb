<dialog id="create_review_modal" class="modal">
  <div class="modal-box w-full max-w-3xl">
    <div class="p-8">
      <%= form_with model: [@world, @review], class: "space-y-6" do |form| %>
        <!-- Header Section -->
        <div class="text-center mb-2">
          <h3 class="text-3xl font-bold text-center text-primary">User Reviews</h3>
        </div>
        <div class="divider divider-primary my-2"></div>
        <!-- Review Form -->
        <div class="form-control">
          <%= form.label :comment, class: "label" do %>
            <span class="label-text text-lg font-semibold flex items-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-1.586l-4 4z" />
              </svg>
              Your Review
            </span>
          <% end %>
          <div class="relative">
            <%= form.text_area :comment, 
            rows: 6, 
            placeholder: "What did you love about this world? Share your thoughts, experiences, and recommendations...",
            class: "textarea textarea-bordered textarea-lg w-full bg-base-100/80 backdrop-blur-sm border-2 border-base-300/50 focus:border-primary/50 focus:bg-base-100 transition-all duration-300 rounded-2xl resize-none text-base leading-relaxed min-h-[150px]" %>
            <!-- TODO: Character counter -->
            <!-- <div class="absolute bottom-4 right-4 text-xs text-base-content/50 bg-base-200/80 px-2 py-1 rounded-lg backdrop-blur-sm">
          <span id="char-count">0</span> characters
        </div> -->
          </div>
          <label class="label mt-2">
            <span class="text-wrap label-text-alt text-base-content/60 flex items-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
              Be honest and helpful - your review helps others make informed decisions
            </span>
          </label>
        </div>
        <!-- Rating Section (Optional Enhancement) -->
        <div class="bg-base-200/50 rounded-2xl p-6 border border-base-300/30">
          <h3 class="font-semibold text-base-content mb-4 flex items-center gap-2">Rate Your Experience</h3>
            <div class="rating gap-1">
              <%= form.radio_button :stars, "1", class: "mask mask-heart bg-red-400" %>
              <%= form.radio_button :stars, "2", class: "mask mask-heart bg-orange-400" %>
              <%= form.radio_button :stars, "3", class: "mask mask-heart bg-yellow-400" %>
              <%= form.radio_button :stars, "4", class: "mask mask-heart bg-lime-400" %>
              <%= form.radio_button :stars, "5", class: "mask mask-heart bg-green-400" %>
            </div>
          </div>
        <!-- Submit Section -->
        <div class="text-center pt-4">
          <div class="inline-block relative group">
            <%= form.submit "Publish Review", 
            class: "btn btn-accent btn-lg px-8 h-14 text-lg font-semibold rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 group-hover:scale-105" %>
          </div>
          <p class="text-sm text-base-content/50 mt-4 flex items-center justify-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
            </svg>
            Your review will be published publicly
          </p>
        </div>
      <% end %>
    </div>
  </div>
  <form method="dialog" class="modal-backdrop">
    <button>close</button>
  </form>
</dialog>
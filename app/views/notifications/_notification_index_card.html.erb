<!-- Notifications List -->
<div class="space-y-4">
  <% @notifications.each do |notification| %>
    <div class="card bg-base-100 shadow-sm border-l-4 <%= notification.unread? ? 'border-l-primary' : 'border-l-base-300 opacity-60' %>">
      <div class="card-body p-4">
        <div class="flex justify-between items-start">
          <div class="flex-1">
            <div class="flex items-center gap-2 mb-2">
              <div class="<%= notification.unread? ? 'badge badge-info badge-xs' : 'badge badge-warning badge-xs ' %>"></div>
              <span class="text-sm text-base-content/70">System</span>
              <span class="text-sm text-base-content/50">2 minutes ago</span>
            </div>
            <h3 class="font-semibold mb-1">From <%= notification.event.record.user.full_name %></h3>
            <p class="text-sm text-base-content/70"><%= notification.message %></p>
          </div>
          <div class="dropdown dropdown-end">
            <div tabindex="0" role="button" class="btn btn-ghost btn-xs">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"></path>
              </svg>
            </div>
            <ul tabindex="0" class="dropdown-content menu bg-base-100 rounded-box z-1 w-32 p-2 shadow">
              <li><%= button_to "Mark as read", mark_as_read_notification_path(notification) %></li>
              <li><%= link_to "Delete", notification_path(notification), data: { turbo_method: :delete, turbo_confirm: "Are you sure? This action is irreversible" } %></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>
